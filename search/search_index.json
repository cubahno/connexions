{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Welcome","text":""},{"location":"#connexions","title":"Connexions","text":"<p>Connexions is a mock server generator for OpenAPI specifications. It allows you to define multiple APIs and generate meaningful mock responses automatically. You can also define static responses for any arbitrary path.</p>"},{"location":"#goals","title":"Goals","text":"<ul> <li>provide a simple tool to work with API mocks</li> <li>combine multiple APIs into one server</li> <li>generate meaningful responses</li> </ul>"},{"location":"#features","title":"Features","text":"<ul> <li>Multiple APIs on one server - each spec becomes a service with its own URL prefix</li> <li>Upstream proxy with circuit breaker - forward to real backends with fallback to mocks</li> <li>Latency &amp; error simulation - test how your app handles delays and failures</li> <li>Custom middleware - modify requests/responses on the fly</li> <li>Response caching - cache GET responses for consistency</li> <li>Request validation - validate against OpenAPI spec</li> </ul>"},{"location":"#real-world-validation","title":"Real-World Validation","text":"<p>Connexions continuously generates and validates data against 2,200+ real-world OpenAPI specifications from cubahno/specs:</p> <pre><code>Total: 2215 services, 98464 endpoints\n\u2705 Success: 98464  \u274c Fails: 0\n</code></pre>"},{"location":"#simple-start","title":"Simple start","text":"<pre><code>docker run -it --rm \\\n  -p 2200:2200 \\\n  -v connexions:/app/resources/data \\\n  cubahno/connexions api\n</code></pre> <p>Read full documentation at cubahno.github.io/connexions.</p> <p>OpenAPI Specification</p>"},{"location":"#license","title":"License","text":"<p>Copyright (c) 2023-present</p> <p>Licensed under the MIT License</p>"},{"location":"contexts/","title":"Contexts","text":"<p>Contexts provide a way to control the values generated for API responses and requests.  They allow you to define static values, dynamic fake data, and reusable patterns that are applied during content generation.</p>"},{"location":"contexts/#overview","title":"Overview","text":"<p>Contexts are organized in YAML files which act as namespaces or collections of context data. File names typically correspond to the service or domain name (e.g., <code>payments.yml</code>, <code>petstore.yml</code>).</p> <p>On the filesystem, contexts are stored with the <code>.yml</code> extension in the <code>contexts</code> directory. For example: <code>contexts/payments.yml</code>.</p> <p>Important: Only individual primitive properties are replaced during content generation. You cannot substitute a property with an object or a list.</p>"},{"location":"contexts/#how-context-replacement-works","title":"How Context Replacement Works","text":"<p>The context system operates in three phases:</p> <ol> <li>Parse phase: YAML files are parsed and aliases are extracted</li> <li>Alias resolution phase: All aliases are resolved across namespaces</li> <li>Function processing phase: Function prefixes (<code>fake:</code>, <code>func:</code>, <code>botify:</code>, <code>join:</code>) are processed</li> </ol> <p>When generating content, the system looks up property names (converted to <code>snake_case</code>) in the loaded contexts and replaces values accordingly.</p>"},{"location":"contexts/#default-contexts","title":"Default Contexts","text":"<p>Each distribution ships with default contexts that are automatically loaded:</p> Context Description <code>common</code> Common patterns like <code>_id$</code>, <code>_email$</code> for suffix matching <code>fake</code> Fake data generators from the faker library <code>words</code> Common nouns, adjectives, and verbs for realistic data"},{"location":"contexts/#context-structure","title":"Context Structure","text":"<p>Inside a context file, provide data that corresponds to your schema properties.</p> <p>Example OpenAPI schema: <pre><code>Pet:\n  type: object\n  properties:\n    id:\n      type: string\n      format: uuid\n    name:\n      type: string\n    tag:\n      type: string\n</code></pre></p> <p>Context file (<code>petstore.yml</code>): <pre><code>id: 123e4567-e89b-12d3-a456-426614174000\nname: \"doggie\"\ntag: \"dog\"\n</code></pre></p> <p>Generated JSON response: <pre><code>{\n  \"id\": \"123e4567-e89b-12d3-a456-426614174000\",\n  \"name\": \"doggie\",\n  \"tag\": \"dog\"\n}\n</code></pre></p>"},{"location":"contexts/#nested-properties","title":"Nested Properties","text":"<p>For schemas with nested objects, use nested YAML structure:</p> <pre><code>pet:\n  id: 123e4567-e89b-12d3-a456-426614174000\n  name: \"doggie\"\n  tag: \"dog\"\nowner_person:\n  id: 1\n  name: \"Jane Doe\"\n</code></pre> <p>Note: Keys inside context files should be <code>snake_case</code>. The system automatically converts <code>camelCase</code> property names from schemas to <code>snake_case</code> for matching.</p>"},{"location":"contexts/#context-functions","title":"Context Functions","text":"<p>Context functions allow dynamic value generation. All functions use a prefix syntax: <code>prefix:arguments</code>.</p>"},{"location":"contexts/#fake-fake-data-generation","title":"<code>fake:</code> - Fake Data Generation","text":"<p>Generates random values using the jaswdr/faker library.</p> <p>Syntax: <code>fake:path.to.function</code></p> <pre><code>pet:\n  id: \"fake:uuid.v4\"\n  name: \"fake:pet.name\"\n  tag: \"fake:gamer.tag\"\nowner_person:\n  id: \"fake:u_int8\"\n  name: \"fake:person.name\"\n  email: \"fake:internet.email\"\n</code></pre> <p>All available fake functions are listed in the fake.yml file.</p> <p>Common fake functions: - <code>fake:uuid.v4</code> - UUID v4 - <code>fake:person.name</code> - Full person name - <code>fake:person.first_name</code> - First name - <code>fake:internet.email</code> - Email address - <code>fake:internet.url</code> - URL - <code>fake:u_int8</code>, <code>fake:u_int16</code>, <code>fake:u_int32</code> - Unsigned integers - <code>fake:phone.number</code> - Phone number</p>"},{"location":"contexts/#alias-cross-context-references","title":"<code>alias:</code> - Cross-Context References","text":"<p>References values from other contexts or namespaces.</p> <p>Syntax: <code>alias:namespace.dotted.path</code></p> petstore.yml<pre><code>id: \"fake:uuid.v4\"\nname: \"fake:pet.name\"\nowner_id: \"alias:person.id\"\nowner_name: \"alias:person.name\"\n</code></pre> person.yml<pre><code>id: \"fake:u_int8\"\nname: \"fake:person.name\"\npet_id: \"alias:petstore.id\"\n</code></pre> <p>If an alias doesn't resolve to a valid target, it remains as-is in the output, making issues easy to spot.</p>"},{"location":"contexts/#func-custom-functions","title":"<code>func:</code> - Custom Functions","text":"<p>Calls registered functions with optional arguments.</p> <p>Syntax variants: - <code>func:name</code> - No arguments - <code>func:name:arg</code> - One argument - <code>func:name:arg1,arg2</code> - Two arguments</p> <p>Available functions:</p> Function Arguments Description <code>botify</code> pattern Generate string from pattern (see below) <code>echo</code> value Return the value as-is <code>int8_between</code> min,max Random int8 between min and max <p>Example: <pre><code>total_items: \"func:int8_between:1,100\"\ncode: \"func:echo:FIXED_CODE\"\n</code></pre></p>"},{"location":"contexts/#botify-pattern-based-generation","title":"<code>botify:</code> - Pattern-Based Generation","text":"<p>Generates random strings based on a pattern. This is a shorthand for <code>func:botify:pattern</code>.</p> <p>Pattern characters: - <code>?</code> - Random letter (a-z) - <code>#</code> - Random digit (0-9)</p> <p>Syntax: <code>botify:pattern</code></p> <pre><code>password: \"botify:???###\"      # e.g., \"abc123\"\ncode: \"botify:??-####\"         # e.g., \"xy-5678\"\nserial: \"botify:???-???-###\"   # e.g., \"abc-def-123\"\n</code></pre>"},{"location":"contexts/#join-value-concatenation","title":"<code>join:</code> - Value Concatenation","text":"<p>Joins values from multiple context keys with a separator.</p> <p>Syntax: <code>join:separator,namespace.key1,namespace.key2,...</code></p> <pre><code>expression: \"join:-,words.adjectives,words.nouns\"  # e.g., \"active-account\"\nfull_name: \"join: ,person.first_name,person.last_name\"\n</code></pre>"},{"location":"contexts/#pattern-matching-with-dynamic-keys","title":"Pattern Matching with Dynamic Keys","text":"<p>Context keys can use regex patterns to match multiple property names.</p>"},{"location":"contexts/#suffix-matching","title":"Suffix Matching","text":"<p>Keys ending with <code>$</code> match properties that end with that pattern:</p> <pre><code>_id$: \"alias:fake.u_int8\"           # Matches: user_id, pet_id, order_id\n_email$: \"alias:fake.internet.email\" # Matches: user_email, contact_email\n_count$: \"alias:fake.u_int8\"         # Matches: item_count, total_count\n</code></pre>"},{"location":"contexts/#prefix-matching","title":"Prefix Matching","text":"<p>Keys starting with <code>^</code> match properties that start with that pattern:</p> <pre><code>^total_: \"func:int8_between:1,100\"   # Matches: total_items, total_count\n</code></pre>"},{"location":"contexts/#wildcard-matching","title":"Wildcard Matching","text":"<p>Use <code>*</code> to match any property name (converted to <code>.*</code> regex):</p> <pre><code>\"*\": \"alias:words.expression\"  # Fallback for any unmatched property\n</code></pre>"},{"location":"contexts/#predefined-value-lists","title":"Predefined Value Lists","text":"<p>Use a list of values to randomly select from predefined options:</p> <pre><code>name: [\"Jane\", \"John\", \"Alice\", \"Bob\"]\n\n# Or multi-line format:\nstatus:\n  - \"pending\"\n  - \"active\"\n  - \"completed\"\n  - \"cancelled\"\n</code></pre> <p>A random value is picked from the list each time.</p>"},{"location":"contexts/#area-specific-contexts","title":"Area-Specific Contexts","text":"<p>Different contexts can be applied to specific areas (path parameters, headers, etc.):</p> <pre><code>in-path:\n  pet_id: \"alias:fake.u_int8\"\n  id$: \"alias:fake.u_int8\"\n\nin-header:\n  x_pet_name: \"alias:fake.pet.name\"\n  x_request_id: \"alias:fake.uuid.v4\"\n</code></pre> <p>Area-specific contexts take precedence over default context replacements.</p> <p>The <code>in-</code> prefix can be changed in <code>config.yml</code>: <pre><code>app:\n  contextAreaPrefix: \"in-\"\n</code></pre></p>"},{"location":"contexts/#service-configuration","title":"Service Configuration","text":"<p>Context files are wired to services through configuration. There's no automatic mapping based on filenames.</p> config.yml<pre><code>services:\n  petstore:\n    contexts:\n      - fake: pet        # Use only 'pet' section from fake.yml\n      - fake: people     # Use only 'people' section from fake.yml\n      - person:          # Use entire person.yml context\n</code></pre> <p>Replacement is applied in the order of definition. If no configuration is provided for a service, default contexts are used.</p>"},{"location":"contexts/#using-in-fixed-responses","title":"Using in Fixed Responses","text":"<p>\u26a0\ufe0f Work in Progress: Context replacement in fixed/static responses using <code>{placeholder}</code> syntax is currently not implemented. Static responses defined via <code>x-static-response</code> are returned as-is without placeholder substitution.</p> <p>For now, if you need dynamic values in responses, use schema-based generation with contexts rather than static response files.</p>"},{"location":"fake-list/","title":"Fake Functions","text":""},{"location":"fake-list/#aliases","title":"Aliases","text":"<pre><code>fake:address.address\nfake:address.building_number\nfake:address.city\nfake:address.city_prefix\nfake:address.city_suffix\nfake:address.country\nfake:address.country_abbr\nfake:address.country_code\nfake:address.latitude\nfake:address.longitude\nfake:address.post_code\nfake:address.secondary_address\nfake:address.state\nfake:address.state_abbr\nfake:address.street_address\nfake:address.street_name\nfake:address.street_suffix\nfake:app.name\nfake:app.version\nfake:beer.alcohol\nfake:beer.blg\nfake:beer.hop\nfake:beer.ibu\nfake:beer.malt\nfake:beer.name\nfake:beer.style\nfake:blood.name\nfake:bool\nfake:boolean.bool\nfake:boolean.bool_int\nfake:car.category\nfake:car.fuel_type\nfake:car.maker\nfake:car.model\nfake:car.plate\nfake:car.transmission_gear\nfake:color.color_name\nfake:color.css\nfake:color.cssoklch\nfake:color.cssrgba\nfake:color.hex\nfake:color.oklch\nfake:color.rgb\nfake:color.rgba\nfake:color.safe_color_name\nfake:company.bs\nfake:company.catch_phrase\nfake:company.ein\nfake:company.job_title\nfake:company.name\nfake:company.suffix\nfake:crypto.bech32_address\nfake:crypto.bitcoin_address\nfake:crypto.etherium_address\nfake:crypto.p2_pkh_address\nfake:crypto.p2_sh_address\nfake:currency.code\nfake:currency.country\nfake:currency.currency\nfake:currency.currency_and_code\nfake:currency.number\nfake:directory.drive_letter\nfake:emoji.emoji\nfake:emoji.emoji_code\nfake:file.extension\nfake:file.filename_with_extension\nfake:foo\nfake:food.fruit\nfake:food.vegetable\nfake:gamer.tag\nfake:gender.abbr\nfake:gender.name\nfake:genre.name\nfake:genre.name_with_description\nfake:hash.md5\nfake:hash.sha256\nfake:hash.sha512\nfake:int\nfake:int16\nfake:int32\nfake:int64\nfake:int8\nfake:internet.company_email\nfake:internet.domain\nfake:internet.email\nfake:internet.free_email\nfake:internet.free_email_domain\nfake:internet.http_method\nfake:internet.ipv4\nfake:internet.ipv6\nfake:internet.local_ipv4\nfake:internet.mac_address\nfake:internet.password\nfake:internet.query\nfake:internet.safe_email\nfake:internet.safe_email_domain\nfake:internet.slug\nfake:internet.status_code\nfake:internet.status_code_message\nfake:internet.status_code_with_message\nfake:internet.tld\nfake:internet.url\nfake:internet.user\nfake:language.language\nfake:language.language_abbr\nfake:language.programming_language\nfake:letter\nfake:lorem.word\nfake:mime_type.mime_type\nfake:music.author\nfake:music.genre\nfake:music.length\nfake:music.name\nfake:payment.credit_card_expiration_date_string\nfake:payment.credit_card_number\nfake:payment.credit_card_type\nfake:payment.iban\nfake:person.first_name\nfake:person.first_name_female\nfake:person.first_name_male\nfake:person.gender\nfake:person.gender_female\nfake:person.gender_male\nfake:person.last_name\nfake:person.name\nfake:person.name_and_gender\nfake:person.name_female\nfake:person.name_male\nfake:person.ssn\nfake:person.suffix\nfake:person.title\nfake:person.title_female\nfake:person.title_male\nfake:pet.cat\nfake:pet.dog\nfake:pet.name\nfake:phone.area_code\nfake:phone.e164_number\nfake:phone.exchange_code\nfake:phone.number\nfake:phone.toll_free_area_code\nfake:phone.tool_free_number\nfake:pokemon.english\nfake:pokemon.japanese\nfake:programming_language.name\nfake:programming_language.variable_name\nfake:random_digit\nfake:random_digit_not_null\nfake:random_letter\nfake:time.am_pm\nfake:time.century\nfake:time.day_of_month\nfake:time.day_of_week\nfake:time.future.clock\nfake:time.future.date\nfake:time.future.day\nfake:time.future.go_string\nfake:time.future.hour\nfake:time.future.is_dst\nfake:time.future.is_zero\nfake:time.future.iso_week\nfake:time.future.minute\nfake:time.future.month\nfake:time.future.nanosecond\nfake:time.future.second\nfake:time.future.string\nfake:time.future.unix\nfake:time.future.unix_micro\nfake:time.future.unix_milli\nfake:time.future.unix_nano\nfake:time.future.weekday\nfake:time.future.year\nfake:time.future.year_day\nfake:time.future.zone\nfake:time.month\nfake:time.month_name\nfake:time.timezone\nfake:time.year\nfake:u_int\nfake:u_int16\nfake:u_int32\nfake:u_int64\nfake:u_int8\nfake:user_agent.chrome\nfake:user_agent.firefox\nfake:user_agent.internet_explorer\nfake:user_agent.opera\nfake:user_agent.safari\nfake:user_agent.user_agent\nfake:uuid.v4\nfake:you_tube.generate_embeded_url\nfake:you_tube.generate_full_url\nfake:you_tube.generate_share_url\nfake:you_tube.generate_video_id\n</code></pre>"},{"location":"how-it-works/","title":"How It Works","text":"<p>This page explains the request flow through Connexions and how different features interact.</p>"},{"location":"how-it-works/#request-flow","title":"Request Flow","text":"<p>When a request arrives at Connexions, it passes through a middleware chain:</p> <pre><code>Request \u2192 Config Override \u2192 Latency/Error \u2192 Cache Read \u2192 Upstream \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2192 Response\n                                                \u2193            \u2193 (if failed)\n                                            (if hit)    Custom MW \u2192 Handler \u2192 Cache Write\n                                                \u2193                                  \u2193\n                                             Response \u2190\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"how-it-works/#middleware-chain","title":"Middleware Chain","text":"<ol> <li>Config Override Middleware - Applies per-request config overrides from <code>X-Cxs-*</code> headers</li> <li>Latency &amp; Error Middleware - Simulates network latency and injects errors</li> <li>Cache Read Middleware - Returns cached response if available (short-circuits)</li> <li>Upstream Middleware - Forwards to real backend; returns response if successful (short-circuits)</li> <li>Custom Middleware - Your service-specific middleware (compiled services only)</li> <li>Handler - Generates mock response from OpenAPI spec</li> <li>Cache Write Middleware - Stores response in cache for future requests</li> </ol>"},{"location":"how-it-works/#per-request-config-overrides","title":"Per-Request Config Overrides","text":"<p>Override service configuration for individual requests using HTTP headers. This is useful for testing, debugging, or handling special cases without modifying the config file.</p>"},{"location":"how-it-works/#supported-request-headers","title":"Supported Request Headers","text":"Header Values Description <code>X-Cxs-Cache-Requests</code> <code>true</code> / <code>false</code> Enable/disable request caching <code>X-Cxs-Latency</code> Duration (e.g., <code>100ms</code>, <code>1s</code>) Override latency <code>X-Cxs-Upstream-Url</code> URL or empty string Override upstream URL (empty disables upstream)"},{"location":"how-it-works/#response-headers","title":"Response Headers","text":"<p>Connexions adds headers to responses indicating how they were processed:</p> Header Values Description <code>X-Cxs-Source</code> <code>generated</code>, <code>cache</code>, <code>upstream</code> Where the response came from <code>X-Cxs-Duration</code> Duration (e.g., <code>5.123ms</code>) Total request processing time"},{"location":"how-it-works/#using-config-overrides-in-the-ui","title":"Using Config Overrides in the UI","text":"<p>The web UI provides a Config Overrides accordion in the generator view. This allows you to override settings without writing curl commands:</p> <ol> <li>Navigate to a service and select a resource</li> <li>Expand the Config Overrides accordion</li> <li>Check the box next to any setting you want to override:</li> <li>Upstream URL: Enter a URL to redirect requests, or leave empty to disable upstream (forces mock response)</li> <li>Cache Requests: Select <code>true</code> to enable caching or <code>false</code> to disable</li> <li>Latency: Enter a duration like <code>100ms</code> or <code>2s</code></li> <li>Click refresh to send the request with your overrides</li> </ol> <p>Only checked options are sent as headers. Unchecked options use the server's default configuration.</p>"},{"location":"how-it-works/#curl-examples","title":"curl Examples","text":"<pre><code># Disable caching for this request\ncurl -H \"X-Cxs-Cache-Requests: false\" http://localhost:2200/petstore/pets\n\n# Add 500ms latency\ncurl -H \"X-Cxs-Latency: 500ms\" http://localhost:2200/petstore/pets\n\n# Disable upstream proxy (force mock response)\ncurl -H \"X-Cxs-Upstream-Url: \" http://localhost:2200/petstore/pets\n\n# Redirect to a different upstream\ncurl -H \"X-Cxs-Upstream-Url: https://api.example.com\" http://localhost:2200/petstore/pets\n\n# Combine multiple overrides\ncurl -H \"X-Cxs-Latency: 200ms\" -H \"X-Cxs-Cache-Requests: true\" http://localhost:2200/petstore/pets\n</code></pre>"},{"location":"how-it-works/#case-insensitivity","title":"Case Insensitivity","text":"<p>Headers are case-insensitive. These are all equivalent:</p> <ul> <li><code>x-cxs-cache-requests: false</code></li> <li><code>X-Cxs-Cache-Requests: false</code></li> <li><code>X-CXS-CACHE-REQUESTS: false</code></li> </ul>"},{"location":"how-it-works/#latency-simulation","title":"Latency Simulation","text":"<p>Simulate real-world network conditions to test how your application handles delays.</p>"},{"location":"how-it-works/#fixed-latency","title":"Fixed Latency","text":"<pre><code># config.yml\nlatency: 100ms\n</code></pre> <p>Every request will be delayed by 100ms.</p>"},{"location":"how-it-works/#percentile-based-latency","title":"Percentile-Based Latency","text":"<pre><code># config.yml\nlatencies:\n  p25: 10ms   # 25% of requests: 10ms\n  p50: 50ms   # 25% of requests: 50ms  \n  p90: 100ms  # 40% of requests: 100ms\n  p99: 500ms  # 9% of requests: 500ms\n  p100: 1s    # 1% of requests: 1s\n</code></pre> <p>This creates a realistic latency distribution where most requests are fast, but some experience higher latency.</p>"},{"location":"how-it-works/#error-injection","title":"Error Injection","text":"<p>Test error handling by injecting HTTP errors at configurable rates.</p> <pre><code># config.yml\nerrors:\n  p5: 500   # 5% return 500 Internal Server Error\n  p10: 400  # 5% return 400 Bad Request (p10 - p5)\n  p15: 429  # 5% return 429 Too Many Requests\n</code></pre> <p>Percentiles are cumulative - <code>p10: 400</code> means requests between p5 and p10 (5%) return 400.</p> <p>Flow:</p> <ol> <li>Request arrives</li> <li>Random number generated (0-100)</li> <li>If number \u2264 5 \u2192 return 500</li> <li>If number \u2264 10 \u2192 return 400</li> <li>If number \u2264 15 \u2192 return 429</li> <li>Otherwise \u2192 proceed to next middleware</li> </ol>"},{"location":"how-it-works/#upstream-proxy","title":"Upstream Proxy","text":"<p>Forward requests to a real backend service with circuit breaker protection.</p> <pre><code># config.yml\nupstream:\n  url: https://api.example.com\n  fail-on:\n    timeout: 5s\n    http-status: \"5xx\"\n</code></pre>"},{"location":"how-it-works/#how-it-works_1","title":"How It Works","text":"<ol> <li>Request arrives at Connexions</li> <li>Upstream middleware forwards request to <code>https://api.example.com</code></li> <li>If successful \u2192 return upstream response</li> <li>If failed \u2192 proceed to mock handler (fallback)</li> </ol>"},{"location":"how-it-works/#circuit-breaker","title":"Circuit Breaker","text":"<p>The circuit breaker protects against cascading failures:</p> <ul> <li>Closed (normal): Requests flow to upstream</li> <li>Open (tripped): Requests skip upstream, go directly to mock handler</li> <li>Half-Open (recovery): Some requests test if upstream is healthy</li> </ul> <p>The circuit opens when: - At least 3 requests have been made - Failure ratio \u2265 60%</p>"},{"location":"how-it-works/#response-caching","title":"Response Caching","text":"<p>Cache GET request responses to improve performance and consistency.</p> <pre><code># config.yml\ncache:\n  requests: true\n</code></pre>"},{"location":"how-it-works/#how-it-works_2","title":"How It Works","text":"<ol> <li>Cache Read: Before processing, check if response exists in cache</li> <li>Cache Write: After generating response, store in cache</li> </ol> <p>Cached responses are keyed by <code>METHOD:URL</code> and cleared periodically (configurable via <code>historyDuration</code> in app settings).</p>"},{"location":"how-it-works/#cache-behavior","title":"Cache Behavior","text":"Request Cache State Result GET /pets Empty Generate response, cache it GET /pets Has entry Return cached response POST /pets Any Always generate new response GET /pets/1 Empty Generate response, cache it"},{"location":"how-it-works/#request-validation","title":"Request Validation","text":"<p>Requests can be validated against the OpenAPI specification at run time.</p> <p>Validation checks: - Required parameters - Parameter types and formats - Request body schema - Content-Type headers</p> <p>Invalid requests return <code>400 Bad Request</code> with validation details.</p>"},{"location":"how-it-works/#response-generation","title":"Response Generation","text":"<p>When no cached or upstream response is available, Connexions generates a mock response:</p> <ol> <li>Find matching operation in OpenAPI spec</li> <li>Select response (prefer 200, then 2xx, then first defined)</li> <li>Generate response body - values are resolved in this order:</li> <li>Replace from request headers</li> <li>Replace from path parameters</li> <li>Replace from context files</li> <li>Use schema <code>example</code> values</li> <li>Generate based on schema <code>format</code> (email, uuid, date, etc.)</li> <li>Generate based on schema primitive type (string, integer, etc.)</li> <li>Fallback to default values</li> </ol>"},{"location":"how-it-works/#static-responses","title":"Static Responses","text":"<p>Override generated responses with static files:</p> <pre><code>static/{service}/{method}/{path}/index.json\n</code></pre> <p>Example: <code>static/petstore/get/pets/index.json</code> overrides <code>GET /petstore/pets</code></p>"},{"location":"how-it-works/#x-static-response-extension","title":"x-static-response Extension","text":"<p>Define static responses directly in your OpenAPI spec:</p> <pre><code>paths:\n  /pets:\n    get:\n      responses:\n        '200':\n          content:\n            application/json:\n              x-static-response: |\n                [{\"id\": 1, \"name\": \"Fluffy\"}]\n</code></pre>"},{"location":"how-it-works/#combining-features","title":"Combining Features","text":"<p>Features can be combined for realistic testing scenarios:</p> <pre><code># config.yml\nlatencies:\n  p50: 50ms\n  p99: 200ms\n\nerrors:\n  p5: 500\n\nupstream:\n  url: https://api.example.com\n\ncache:\n  requests: true\n</code></pre> <p>This configuration: 1. Adds realistic latency distribution 2. Injects 5% server errors 3. Tries upstream first, falls back to mock 4. Caches successful GET responses</p>"},{"location":"middleware/","title":"Custom Middleware","text":"<p>Compiled Go services support custom middleware for advanced use cases like authentication, logging, request modification, and stateful behavior.</p>"},{"location":"middleware/#overview","title":"Overview","text":"<p>Custom middleware is applied after the standard middleware chain:</p> <pre><code>Request \u2192 [Standard Middleware] \u2192 [Custom Middleware] \u2192 Handler \u2192 Response\n</code></pre> <p>Standard middleware handles: latency, errors, caching, upstream proxy.</p>"},{"location":"middleware/#adding-custom-middleware","title":"Adding Custom Middleware","text":"<p>Edit <code>middleware.go</code> in your service directory:</p> <pre><code>package petstore\n\nimport (\n    \"net/http\"\n    \"github.com/cubahno/connexions/v2/pkg/middleware\"\n)\n\nfunc getMiddleware() []func(*middleware.Params) func(http.Handler) http.Handler {\n    return []func(*middleware.Params) func(http.Handler) http.Handler{\n        createAuthMiddleware,\n        createLoggingMiddleware,\n    }\n}\n\nfunc createAuthMiddleware(params *middleware.Params) func(http.Handler) http.Handler {\n    return func(next http.Handler) http.Handler {\n        return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {\n            token := r.Header.Get(\"Authorization\")\n            if token == \"\" {\n                http.Error(w, \"Unauthorized\", http.StatusUnauthorized)\n                return\n            }\n            next.ServeHTTP(w, r)\n        })\n    }\n}\n</code></pre>"},{"location":"middleware/#middleware-params","title":"Middleware Params","text":"<p>The <code>middleware.Params</code> struct provides access to service configuration and request history:</p> <pre><code>type Params struct {\n    ServiceConfig *config.ServiceConfig  // Service configuration\n    History       *history.CurrentRequestStorage  // Request/response history\n}\n</code></pre>"},{"location":"middleware/#serviceconfig","title":"ServiceConfig","text":"<p>Access service configuration values:</p> <pre><code>func createConfigAwareMiddleware(params *middleware.Params) func(http.Handler) http.Handler {\n    serviceName := params.ServiceConfig.Name\n\n    return func(next http.Handler) http.Handler {\n        return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {\n            log.Printf(\"Service: %s, Path: %s\", serviceName, r.URL.Path)\n            next.ServeHTTP(w, r)\n        })\n    }\n}\n</code></pre>"},{"location":"middleware/#request-history","title":"Request History","text":"<p>Access the current request and previous requests/responses:</p> <pre><code>func createHistoryMiddleware(params *middleware.Params) func(http.Handler) http.Handler {\n    return func(next http.Handler) http.Handler {\n        return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {\n            // Get current request record\n            record, exists := params.History.Get(r)\n            if exists {\n                log.Printf(\"Request body: %s\", string(record.Body))\n                if record.Response != nil {\n                    log.Printf(\"Previous response: %d\", record.Response.StatusCode)\n                }\n            }\n\n            next.ServeHTTP(w, r)\n        })\n    }\n}\n</code></pre>"},{"location":"middleware/#requestedresource","title":"RequestedResource","text":"<p>The history record contains:</p> <pre><code>type RequestedResource struct {\n    Resource       string           // OpenAPI path: /pets/{id}\n    Body           []byte           // Request body\n    Response       *HistoryResponse // Previous response (if any)\n    Request        *http.Request    // Current HTTP request\n    ServiceStorage Storage          // Per-service key-value storage\n}\n</code></pre>"},{"location":"middleware/#service-storage","title":"Service Storage","text":"<p>Each service has a thread-safe key-value storage for maintaining state across requests:</p> <pre><code>func createStatefulMiddleware(params *middleware.Params) func(http.Handler) http.Handler {\n    return func(next http.Handler) http.Handler {\n        return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {\n            record, _ := params.History.Get(r)\n            storage := record.ServiceStorage\n\n            // Increment request counter\n            count, _ := storage.Get(\"request_count\")\n            if count == nil {\n                count = 0\n            }\n            storage.Set(\"request_count\", count.(int) + 1)\n\n            // Store user session\n            userID := r.Header.Get(\"X-User-ID\")\n            if userID != \"\" {\n                storage.Set(\"last_user\", userID)\n            }\n\n            next.ServeHTTP(w, r)\n        })\n    }\n}\n</code></pre>"},{"location":"middleware/#storage-interface","title":"Storage Interface","text":"<pre><code>type Storage interface {\n    Get(key string) (any, bool)\n    Set(key string, value any)\n    Data() map[string]any\n}\n</code></pre> <p>Note: Storage is cleared periodically based on <code>historyDuration</code> setting (default: 5 minutes).</p>"},{"location":"middleware/#common-patterns","title":"Common Patterns","text":""},{"location":"middleware/#request-logging","title":"Request Logging","text":"<pre><code>func createLoggingMiddleware(params *middleware.Params) func(http.Handler) http.Handler {\n    return func(next http.Handler) http.Handler {\n        return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {\n            start := time.Now()\n            log.Printf(\"\u2192 %s %s\", r.Method, r.URL.Path)\n\n            next.ServeHTTP(w, r)\n\n            log.Printf(\"\u2190 %s %s (%v)\", r.Method, r.URL.Path, time.Since(start))\n        })\n    }\n}\n</code></pre>"},{"location":"middleware/#request-modification","title":"Request Modification","text":"<pre><code>func createHeaderMiddleware(params *middleware.Params) func(http.Handler) http.Handler {\n    return func(next http.Handler) http.Handler {\n        return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {\n            // Add headers to response\n            w.Header().Set(\"X-Service\", params.ServiceConfig.Name)\n            w.Header().Set(\"X-Request-ID\", uuid.New().String())\n\n            next.ServeHTTP(w, r)\n        })\n    }\n}\n</code></pre>"},{"location":"middleware/#conditional-logic","title":"Conditional Logic","text":"<pre><code>func createConditionalMiddleware(params *middleware.Params) func(http.Handler) http.Handler {\n    return func(next http.Handler) http.Handler {\n        return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {\n            // Only apply to specific paths\n            if strings.HasPrefix(r.URL.Path, \"/admin\") {\n                if r.Header.Get(\"X-Admin-Token\") != \"secret\" {\n                    http.Error(w, \"Forbidden\", http.StatusForbidden)\n                    return\n                }\n            }\n\n            next.ServeHTTP(w, r)\n        })\n    }\n}\n</code></pre>"},{"location":"services/","title":"Services","text":"<p>Services are the core building blocks of Connexions. A service represents a collection of API endpoints that can be served as a mock server.</p>"},{"location":"services/#multiple-apis-on-one-server","title":"Multiple APIs on One Server","text":"<p>Each service gets its own URL prefix based on its name. This allows you to run multiple APIs simultaneously:</p> <pre><code>openapi/\n\u251c\u2500\u2500 petstore.yml      \u2192 /petstore/pets, /petstore/pets/{id}\n\u251c\u2500\u2500 stripe/\n\u2502   \u2514\u2500\u2500 openapi.yml   \u2192 /stripe/customers, /stripe/charges\n\u2514\u2500\u2500 github.yml        \u2192 /github/repos, /github/users\n</code></pre> <p>All services share the same port (default: 2200), so you can mock your entire microservices architecture with a single Connexions instance.</p> <p>The service name is determined by:</p> <ol> <li>The <code>name</code> property in <code>config.yml</code> (if provided)</li> <li>The directory name (for nested specs like <code>openapi/stripe/openapi.yml</code>)</li> <li>The filename (for flat specs like <code>openapi/petstore.yml</code>)</li> </ol> <p>See Service Configuration for details on the <code>name</code> property.</p>"},{"location":"services/#service-types","title":"Service Types","text":"<p>Connexions supports three types of services, each suited for different use cases:</p> Type Best For Hot Reload Customization OpenAPI Spec Quick prototyping, testing \u2705 Yes Basic (config.yml) Static Files Fixed responses, edge cases \u2705 Yes Full control Compiled Go Production, full control \u274c No Complete (middleware, handlers)"},{"location":"services/#openapi-spec-services","title":"OpenAPI Spec Services","text":"<p>The simplest way to create a mock server. Just provide an OpenAPI specification and Connexions generates responses automatically.</p> <pre><code># Using Docker with mounted spec\ndocker run -p 2200:2200 \\\n  -v ./my-spec.yml:/app/resources/data/openapi/my-spec.yml \\\n  cubahno/connexions\n</code></pre> <p>Responses are generated based on:</p> <ul> <li>Schema definitions (types, formats, constraints)</li> <li>Example values in the spec</li> <li>Context files for realistic data</li> </ul>"},{"location":"services/#static-file-services","title":"Static File Services","text":"<p>For endpoints that need fixed, predictable responses. Useful for:</p> <ul> <li>Testing specific edge cases</li> <li>Returning exact response bodies</li> <li>Mocking endpoints not in your OpenAPI spec</li> </ul> <p>Static files override OpenAPI-generated responses when both exist for the same endpoint.</p>"},{"location":"services/#compiled-go-services","title":"Compiled Go Services","text":"<p>For maximum control and performance. Generated Go code that you can customize:</p> <ul> <li>Add custom middleware (authentication, logging)</li> <li>Modify request/response handling</li> <li>Add business logic</li> <li>Compile into a single binary</li> </ul> <pre><code># Generate a service from spec\ngo run github.com/cubahno/connexions/v2/cmd/gen/service@latest \\\n  -name petstore \\\n  https://petstore3.swagger.io/api/v3/openapi.json\n\n# Build and run\ncd services/petstore &amp;&amp; go generate &amp;&amp; go build &amp;&amp; ./petstore\n</code></pre> <p>See service command for details.</p>"},{"location":"services/#customizing-generated-responses","title":"Customizing Generated Responses","text":"<p>When implementing a service method, use <code>opts.GenerateResponse()</code> to get a pre-populated response based on the OpenAPI spec, then modify specific fields:</p> <pre><code>func (s *service) GetUser(ctx context.Context, opts *GetUserServiceRequestOptions) (*GetUserResponseData, error) {\n    // Get a spec-compliant response with generated values\n    resp, err := opts.GenerateResponse()\n    if err != nil {\n        return nil, err\n    }\n\n    // Override specific fields\n    resp.Body.ID = opts.PathParams.UserID\n    resp.Body.Email = \"custom@example.com\"\n\n    return resp, nil\n}\n</code></pre> <p>This is useful when you need realistic data but want to control specific values (e.g., IDs matching the request, business-specific logic).</p>"},{"location":"services/#file-structure","title":"File Structure","text":"<p>Services are organized in the <code>resources/data/</code> directory:</p> <pre><code>resources/data/\n\u251c\u2500\u2500 openapi/           # OpenAPI spec files\n\u2502   \u251c\u2500\u2500 petstore.yml   # \u2192 serves at /*\n\u2502   \u2514\u2500\u2500 payments/\n\u2502       \u2514\u2500\u2500 v1.yml     # \u2192 serves at /payments/*\n\u251c\u2500\u2500 static/            # Static response files\n\u2502   \u2514\u2500\u2500 petstore/\n\u2502       \u2514\u2500\u2500 get/\n\u2502           \u2514\u2500\u2500 pets/\n\u2502               \u2514\u2500\u2500 index.json  # \u2192 GET /petstore/pets\n\u2514\u2500\u2500 services/          # Compiled Go services (generated)\n    \u2514\u2500\u2500 petstore/\n        \u251c\u2500\u2500 setup/     # Configuration files\n        \u251c\u2500\u2500 types/     # Generated types\n        \u2514\u2500\u2500 handler/   # Generated handlers\n</code></pre>"},{"location":"services/#openapi-directory","title":"OpenAPI Directory","text":"<p>Place OpenAPI specs in <code>openapi/</code>. The file/folder name becomes the service name:</p> File Serves <code>petstore.yml</code> <code>/*</code> (all paths in spec) <code>payments/v1.yml</code> <code>/payments/*</code>"},{"location":"services/#static-directory","title":"Static Directory","text":"<p>Static files provide fixed responses. Structure: <code>static/{service}/{method}/{path}/index.json</code></p> File Endpoint <code>petstore/get/pets/index.json</code> <code>GET /petstore/pets</code> <code>petstore/post/pets/index.json</code> <code>POST /petstore/pets</code> <code>petstore/get/pets/{id}/index.json</code> <code>GET /petstore/pets/{id}</code> <p>Use <code>{param}</code> in directory names for path parameters.</p>"},{"location":"services/#services-directory","title":"Services Directory","text":"<p>Generated Go services live in <code>services/</code>. Each service has:</p> <ul> <li><code>setup/</code> - Configuration files (<code>config.yml</code>, <code>codegen.yml</code>, <code>openapi.yml</code>)</li> <li><code>types/</code> - Generated Go types from OpenAPI schemas</li> <li><code>handler/</code> - Generated HTTP handlers</li> <li><code>register.go</code> - Service registration</li> <li><code>middleware.go</code> - Customizable middleware (not overwritten)</li> </ul>"},{"location":"storage/","title":"Storage","text":"<p>Connexions uses a layered storage architecture that provides service isolation while sharing a single backend connection.</p>"},{"location":"storage/#design-principles","title":"Design Principles","text":""},{"location":"storage/#shared-backend-isolated-views","title":"Shared Backend, Isolated Views","text":"<p>All services share a single storage backend (memory or Redis), but each service gets an isolated \"view\" into that storage through key prefixing.  This means:</p> <ul> <li>Single connection - One Redis client or memory store for the entire application</li> <li>No cross-service access - Service A cannot read or modify Service B's data</li> <li>Automatic namespacing - Keys are prefixed with the service name transparently</li> </ul>"},{"location":"storage/#lazy-resource-creation","title":"Lazy Resource Creation","text":"<p>Tables and history stores are created on first access, not upfront.  This keeps memory usage low when services don't use all features.</p>"},{"location":"storage/#ttl-support","title":"TTL Support","text":"<p>Records can have individual expiration times:</p> <ul> <li>Per-record TTL - Each <code>Set()</code> call can specify its own TTL</li> <li>Zero means forever - A TTL of <code>0</code> means the record never expires</li> <li>Lazy expiration (memory) - Expired records are deleted on access, not via background cleanup</li> <li>Native TTL (Redis) - Uses Redis's built-in key expiration</li> </ul>"},{"location":"storage/#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      Application                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Service A           Service B           Service C      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502   DB    \u2502         \u2502   DB    \u2502         \u2502   DB    \u2502   \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524         \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524         \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524   \u2502\n\u2502  \u2502 History \u2502         \u2502 History \u2502         \u2502 History \u2502   \u2502\n\u2502  \u2502 Table() \u2502         \u2502 Table() \u2502         \u2502 Table() \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502       \u2502                   \u2502                   \u2502         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                      Storage                             \u2502\n\u2502              (Memory or Redis backend)                   \u2502\n\u2502                                                          \u2502\n\u2502  Keys: \"serviceA:history:GET:/users\"                    \u2502\n\u2502        \"serviceB:cache:token123\"                        \u2502\n\u2502        \"serviceC:history:POST:/orders\"                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"storage/#components","title":"Components","text":""},{"location":"storage/#storage_1","title":"Storage","text":"<p>The shared backend that manages the actual data. Supports:</p> <ul> <li>Memory - In-process storage, data lost on restart</li> <li>Redis - Distributed storage, persists across restarts</li> </ul>"},{"location":"storage/#db","title":"DB","text":"<p>A service-scoped wrapper that provides:</p> <ul> <li>History() - Typed access to request/response history</li> <li>Table(name) - Generic key-value storage with TTL support</li> <li>CircuitBreakerStore() - Shared circuit breaker state (see below)</li> </ul>"},{"location":"storage/#table","title":"Table","text":"<p>Generic key-value store with per-record TTL:</p> <ul> <li><code>Get(ctx, key)</code> - Retrieve a value (returns false if expired or missing)</li> <li><code>Set(ctx, key, value, ttl)</code> - Store with optional expiration</li> <li><code>Delete(ctx, key)</code> - Remove a key</li> <li><code>Data(ctx)</code> - Get all non-expired entries</li> <li><code>Clear(ctx)</code> - Remove all entries</li> </ul>"},{"location":"storage/#historytable","title":"HistoryTable","text":"<p>Typed wrapper for request/response tracking:</p> <ul> <li>Stores request body, response data, status codes</li> <li>Used by caching and upstream middleware</li> <li>Cleared periodically based on <code>historyDuration</code> config</li> </ul>"},{"location":"storage/#circuit-breaker-store","title":"Circuit Breaker Store","text":"<p>Each service has its own circuit breaker, keyed by its upstream URL. The store provides:</p> <ul> <li>Memory - Circuit breaker state is local to the process</li> <li>Redis - Circuit breaker state is shared across all application instances</li> </ul> <p>When running multiple instances of connexions behind a load balancer,  Redis storage ensures that circuit breaker state (failure counts, open/closed state) is  synchronized across all instances. This prevents one instance from continuing to hit a  failing upstream while another has already tripped the breaker.</p>"},{"location":"storage/#choosing-a-backend","title":"Choosing a Backend","text":"Feature Memory Redis Setup None Requires Redis server Persistence No (lost on restart) Yes Multi-instance No (each instance isolated) Yes (shared state) Circuit breaker sharing Within process only Across all instances Performance Fastest Network overhead <p>Use Memory when: - Running a single instance - Data loss on restart is acceptable - Simplicity is preferred</p> <p>Use Redis when: - Running multiple instances behind a load balancer - Circuit breaker state must be shared - Request history should persist across restarts</p>"},{"location":"storage/#configuration","title":"Configuration","text":"<p>See App Configuration for setup options.</p> <pre><code># Memory (default)\nstorage:\n  type: memory\n\n# Redis\nstorage:\n  type: redis\n  redis:\n    address: localhost:6379\n    password: \"\"\n    db: 0\n</code></pre>"},{"location":"api/","title":"API Reference","text":"<p>Coming Soon</p> <p>This section is under development. Documentation for the public Go API will be added here.</p>"},{"location":"api/#overview","title":"Overview","text":"<p>Connexions exposes a public Go API through the <code>pkg/</code> package that allows you to:</p> <ul> <li>Generate mock responses programmatically</li> <li>Parse and work with OpenAPI specifications</li> <li>Create custom middleware</li> <li>Extend the server functionality</li> </ul>"},{"location":"api/#packages","title":"Packages","text":"Package Description Status <code>pkg/generator</code> Response and request generation \ud83d\udea7 Upcoming <code>pkg/schema</code> OpenAPI schema parsing and operations \ud83d\udea7 Upcoming <code>pkg/config</code> Configuration types and loading \ud83d\udea7 Upcoming <code>pkg/middleware</code> HTTP middleware components \ud83d\udea7 Upcoming <code>pkg/loader</code> Service and resource loading \ud83d\udea7 Upcoming"},{"location":"api/#quick-example","title":"Quick Example","text":"<pre><code>package main\n\nimport (\n    \"github.com/cubahno/connexions/v2/pkg/generator\"\n    \"github.com/cubahno/connexions/v2/pkg/schema\"\n)\n\nfunc main() {\n    // Load an OpenAPI spec\n    // Parse operations\n    // Generate responses\n    // ... documentation coming soon\n}\n</code></pre>"},{"location":"api/#contributing","title":"Contributing","text":"<p>If you'd like to help document the API, contributions are welcome! See the GitHub repository.</p>"},{"location":"commands/service/","title":"Service Command","text":"<p>The service command generates a complete service from an OpenAPI spec or static files. It handles both setup (creating configuration files) and code generation in a single step.</p>"},{"location":"commands/service/#usage","title":"Usage","text":"<pre><code>go run github.com/cubahno/connexions/v2/cmd/gen/service@latest [-name &lt;name&gt;] [-type openapi|static] [-output &lt;dir&gt;] [spec-file-or-url]\n</code></pre>"},{"location":"commands/service/#arguments","title":"Arguments","text":"Argument Description <code>&lt;source&gt;</code> Optional path to OpenAPI spec file or URL"},{"location":"commands/service/#flags","title":"Flags","text":"Flag Description <code>-name</code> Service name. If not provided, inferred from directory name <code>-type</code> Service type: <code>openapi</code> or <code>static</code>. Inferred from source if not provided <code>-output</code> Output directory for the service. Defaults to current directory <code>-codegen-config</code> Optional path to custom <code>codegen.yml</code> to merge with template <code>-service-config</code> Optional path to custom <code>config.yml</code> to merge with template <code>-quiet</code> Suppress non-error output"},{"location":"commands/service/#how-it-works","title":"How It Works","text":"<p>The command performs two steps automatically:</p> <ol> <li>Ensure setup directory exists - If <code>&lt;output&gt;/setup/</code> doesn't exist, creates it with configuration files</li> <li>Generate service code - Generates types, handlers, register.go, middleware.go, and optionally server/</li> </ol>"},{"location":"commands/service/#source-handling","title":"Source Handling","text":"<p>The command automatically detects whether the source is a URL or a local path:</p> <ul> <li>URL provided: The URL is embedded in <code>generate.go</code>. The spec is fetched at generation time.</li> <li>Local path provided: The file is copied into the setup directory as <code>openapi.yml</code>.</li> </ul>"},{"location":"commands/service/#output-structure","title":"Output Structure","text":"<p>The command creates a service directory with this structure:</p> <pre><code>&lt;output&gt;/\n\u251c\u2500\u2500 generate.go          # Go generate file for regeneration\n\u251c\u2500\u2500 setup/\n\u2502   \u251c\u2500\u2500 codegen.yml      # Code generation settings\n\u2502   \u251c\u2500\u2500 config.yml       # Service runtime configuration\n\u2502   \u251c\u2500\u2500 context.yml      # Context variables for response generation\n\u2502   \u2514\u2500\u2500 openapi.yml      # OpenAPI spec (only if local path was provided)\n\u251c\u2500\u2500 types/               # Generated Go types\n\u251c\u2500\u2500 handler/             # Generated request handlers\n\u251c\u2500\u2500 register.go          # Service registration\n\u251c\u2500\u2500 middleware.go        # Middleware configuration (only generated once)\n\u2514\u2500\u2500 server/              # Optional server main.go\n</code></pre>"},{"location":"commands/service/#examples","title":"Examples","text":""},{"location":"commands/service/#from-url-in-current-directory","title":"From URL (in current directory)","text":"<pre><code>cd myservice\ngo run github.com/cubahno/connexions/v2/cmd/gen/service@latest https://petstore3.swagger.io/api/v3/openapi.json\n</code></pre>"},{"location":"commands/service/#from-local-file","title":"From local file","text":"<pre><code>cd myservice\ngo run github.com/cubahno/connexions/v2/cmd/gen/service@latest ./specs/openapi.yml\n</code></pre>"},{"location":"commands/service/#with-custom-output-directory","title":"With custom output directory","text":"<pre><code>go run github.com/cubahno/connexions/v2/cmd/gen/service@latest -output /path/to/service ./specs/openapi.yml\n</code></pre>"},{"location":"commands/service/#with-custom-name","title":"With custom name","text":"<pre><code>go run github.com/cubahno/connexions/v2/cmd/gen/service@latest -name petstore https://petstore3.swagger.io/api/v3/openapi.json\n</code></pre>"},{"location":"commands/service/#with-custom-configs","title":"With custom configs","text":"<pre><code>go run github.com/cubahno/connexions/v2/cmd/gen/service@latest \\\n  -codegen-config ./my-codegen.yml \\\n  -service-config ./my-config.yml \\\n  ./specs/openapi.yml\n</code></pre>"},{"location":"commands/service/#regeneration","title":"Regeneration","text":"<p>After initial generation, you can regenerate the service by running:</p> <pre><code>cd &lt;service-dir&gt; &amp;&amp; go generate\n</code></pre> <p>Or simply run the service command again from the service directory.</p>"},{"location":"commands/service/#configuration","title":"Configuration","text":""},{"location":"commands/service/#enabling-server-generation","title":"Enabling Server Generation","text":"<p>By default, <code>server/main.go</code> is not generated. To enable it, add to your <code>setup/config.yml</code>:</p> <pre><code>generate:\n  server: {}\n</code></pre>"},{"location":"commands/simplify/","title":"Simplify Command","text":"<p>The simplify command reduces the complexity of large OpenAPI specs by removing union types (anyOf/oneOf) and limiting the number of optional properties per schema.</p> <p>This is particularly useful for enormous specs like Stripe's API that would otherwise generate unwieldy code with deeply nested union types.</p>"},{"location":"commands/simplify/#usage","title":"Usage","text":"<pre><code>go run github.com/cubahno/connexions/v2/cmd/gen/simplify@latest [options] &lt;path-to-spec&gt;\n</code></pre>"},{"location":"commands/simplify/#arguments","title":"Arguments","text":"Argument Description <code>&lt;path-to-spec&gt;</code> Path to the OpenAPI spec file (required)"},{"location":"commands/simplify/#flags","title":"Flags","text":"Flag Description <code>-output</code> Output file path. If not specified, outputs to stdout <code>-keep-optional</code> Keep exactly this many optional properties per schema (default: 5) <code>-min-optional-properties</code> Minimum number of optional properties to keep (overrides <code>-keep-optional</code>) <code>-max-optional-properties</code> Maximum number of optional properties to keep (overrides <code>-keep-optional</code>) <code>-help</code> Show help and exit"},{"location":"commands/simplify/#what-it-does","title":"What It Does","text":"<p>The simplify command performs the following transformations:</p> <ol> <li>Removes optional union properties - Properties with <code>anyOf</code>/<code>oneOf</code> that are not required are removed entirely</li> <li>Simplifies required union properties - Required properties with unions have the <code>anyOf</code>/<code>oneOf</code> removed (property is kept)</li> <li>Limits optional properties - Keeps only a specified number of optional properties per schema (alphabetically first)</li> </ol>"},{"location":"commands/simplify/#examples","title":"Examples","text":""},{"location":"commands/simplify/#basic-usage","title":"Basic Usage","text":"<pre><code># Simplify and output to stdout\ngo run github.com/cubahno/connexions/v2/cmd/gen/simplify@latest openapi.yml\n\n# Simplify and save to file\ngo run github.com/cubahno/connexions/v2/cmd/gen/simplify@latest -output simplified.yml openapi.yml\n</code></pre>"},{"location":"commands/simplify/#controlling-optional-properties","title":"Controlling Optional Properties","text":"<pre><code># Keep exactly 3 optional properties per schema\ngo run github.com/cubahno/connexions/v2/cmd/gen/simplify@latest -keep-optional 3 openapi.yml\n\n# Keep between 1-3 optional properties per schema\ngo run github.com/cubahno/connexions/v2/cmd/gen/simplify@latest \\\n  -min-optional-properties 1 \\\n  -max-optional-properties 3 \\\n  openapi.yml\n\n# Keep all optional properties (only simplify unions)\ngo run github.com/cubahno/connexions/v2/cmd/gen/simplify@latest -keep-optional 0 openapi.yml\n</code></pre>"},{"location":"commands/simplify/#with-service-generation","title":"With Service Generation","text":"<p>A common workflow is to simplify a spec before generating a service:</p> <pre><code># 1. Simplify the spec\ngo run github.com/cubahno/connexions/v2/cmd/gen/simplify@latest \\\n  -output simplified.yml \\\n  https://raw.githubusercontent.com/stripe/openapi/master/openapi/spec3.json\n\n# 2. Generate service from simplified spec\ngo run github.com/cubahno/connexions/v2/cmd/gen/service@latest -name stripe simplified.yml\n</code></pre>"},{"location":"commands/simplify/#use-cases","title":"Use Cases","text":""},{"location":"commands/simplify/#large-api-specs","title":"Large API Specs","text":"<p>APIs like Stripe have specs with: - Hundreds of endpoints - Deeply nested schemas with many union types - Thousands of optional properties</p> <p>Without simplification, code generation can: - Take a very long time - Produce enormous generated files - Create complex types that are hard to work with</p>"},{"location":"commands/simplify/#testing-and-development","title":"Testing and Development","text":"<p>When developing against a large API, you often only need a subset of the functionality. Simplifying the spec makes it faster to iterate.</p>"},{"location":"commands/simplify/#example","title":"Example","text":"<p>See the simplify example for a runnable example.</p> <pre><code>cd examples/commands/simplify\ngo generate\n</code></pre>"},{"location":"config/app/","title":"App Configuration","text":"<p>App-level configuration for Connexions server.</p>"},{"location":"config/app/#file-location","title":"File Location","text":"<p><code>resources/data/app.yml</code></p> <p>For Docker, mount your custom config: <pre><code>volumes:\n  - ./app.yml:/app/resources/data/app.yml:ro\n</code></pre></p>"},{"location":"config/app/#configuration-options","title":"Configuration Options","text":"Option Type Default Description <code>title</code> string <code>Connexions</code> App title displayed in UI <code>port</code> int <code>2200</code> Server port <code>baseURL</code> string - Public base URL (e.g., <code>https://api.example.com</code>) <code>internalURL</code> string - Internal URL for service-to-service calls <code>homeURL</code> string <code>/.ui</code> URL for UI home page <code>serviceURL</code> string <code>/.services</code> URL for service endpoints in UI <code>contextAreaPrefix</code> string <code>in-</code> Prefix for context area replacements <code>disableUI</code> bool <code>false</code> Disable the web UI <code>historyDuration</code> duration <code>5m</code> How long to keep request history in memory <code>editor.theme</code> string <code>chrome</code> Code editor theme in UI <code>editor.fontSize</code> int <code>16</code> Code editor font size <code>extra</code> map <code>{}</code> User-defined key-value config (accessible in services)"},{"location":"config/app/#storage-configuration","title":"Storage Configuration","text":"<p>Configure shared storage for distributed features (e.g., circuit breaker state sharing across instances).</p> <pre><code>storage:\n  type: redis\n  redis:\n    address: localhost:6379\n    password: \"\"\n    db: 0\n</code></pre> Option Type Default Description <code>storage.type</code> string <code>memory</code> Storage type: <code>memory</code> or <code>redis</code> <code>storage.redis.address</code> string - Redis address (host:port) <code>storage.redis.password</code> string - Redis password <code>storage.redis.db</code> int <code>0</code> Redis database number"},{"location":"config/app/#environment-variables","title":"Environment Variables","text":"<p>Environment variables override file values:</p> Variable Overrides <code>APP_BASE_URL</code> <code>baseURL</code> <code>APP_INTERNAL_URL</code> <code>internalURL</code> <code>ROUTER_HISTORY_DURATION</code> <code>historyDuration</code>"},{"location":"config/app/#example","title":"Example","text":"<pre><code>title: My API Mock Server\nport: 8080\nbaseURL: https://api.example.com\ninternalURL: http://localhost:2200\ndisableUI: false\nhistoryDuration: 10m\n\neditor:\n  theme: monokai\n  fontSize: 14\n\nstorage:\n  type: redis\n  redis:\n    address: redis:6379\n\nextra:\n  apiKey: \"secret123\"\n  maxRetries: 3\n</code></pre>"},{"location":"config/app/#accessing-config-in-services","title":"Accessing Config in Services","text":"<p>When using scaffolded services, access config via <code>ServiceParams</code>:</p> <pre><code>func newService(params *api.ServiceParams) *service {\n    baseURL := params.AppConfig.BaseURL\n    apiKey := params.AppConfig.Extra[\"apiKey\"].(string)\n    return &amp;service{params: params}\n}\n</code></pre>"},{"location":"config/codegen/","title":"Code Generation Configuration","text":"<p>The <code>codegen.yml</code> file controls how Go types and handlers are generated from your OpenAPI specification.</p> <p>Connexions uses oapi-codegen-dd for code generation.</p>"},{"location":"config/codegen/#location","title":"Location","text":"<p>Place <code>codegen.yml</code> in the <code>setup/</code> directory:</p> <pre><code>services/petstore/\n\u2514\u2500\u2500 setup/\n    \u251c\u2500\u2500 codegen.yml     # Code generation settings\n    \u251c\u2500\u2500 config.yml      # Service configuration\n    \u2514\u2500\u2500 openapi.yml     # OpenAPI specification\n</code></pre>"},{"location":"config/codegen/#default-configuration","title":"Default Configuration","text":"<p>The default <code>codegen.yml</code> generated by the service command:</p> <pre><code>package: types\noutput:\n  use-single-file: false\n  directory: ../\ngenerate:\n  omit-description: true\n  default-int-type: int64\n  always-prefix-enum-values: true\n  validation:\n    response: true\nadditional-imports:\n  - package: github.com/go-playground/validator/v10\nerror-mapping:\n</code></pre>"},{"location":"config/codegen/#key-options","title":"Key Options","text":""},{"location":"config/codegen/#package-and-output","title":"Package and Output","text":"<pre><code>package: types              # Go package name for generated types\noutput:\n  use-single-file: false    # Split types into multiple files\n  directory: ../            # Output relative to setup/\n</code></pre>"},{"location":"config/codegen/#type-generation","title":"Type Generation","text":"<pre><code>generate:\n  omit-description: true           # Skip schema descriptions in comments\n  default-int-type: int64          # Default integer type\n  always-prefix-enum-values: true  # Prefix enum values with type name\n  validation:\n    response: true                 # Generate Validate() methods\n</code></pre>"},{"location":"config/codegen/#filtering-operations","title":"Filtering Operations","text":"<p>Filter which operations to generate:</p> <pre><code>filter:\n  include:\n    operation-ids:\n      - GetPets\n      - CreatePet\n    tags:\n      - pets\n    paths:\n      - /pets\n      - /pets/{id}\n  exclude:\n    operation-ids:\n      - DeletePet\n</code></pre>"},{"location":"config/codegen/#additional-imports","title":"Additional Imports","text":"<p>Add custom imports to generated code:</p> <pre><code>additional-imports:\n  - package: github.com/go-playground/validator/v10\n  - package: github.com/google/uuid\n    alias: guuid\n</code></pre>"},{"location":"config/codegen/#error-mapping","title":"Error Mapping","text":"<p>Map response types to implement the <code>error</code> interface:</p> <pre><code>error-mapping:\n  Error: true\n  APIError: true\n</code></pre>"},{"location":"config/codegen/#custom-configuration","title":"Custom Configuration","text":"<p>You can provide a custom <code>codegen.yml</code> when generating services:</p> <pre><code>go run github.com/cubahno/connexions/v2/cmd/gen/service@latest \\\n  -name petstore \\\n  -codegen-config ./my-codegen.yml \\\n  https://petstore3.swagger.io/api/v3/openapi.json\n</code></pre> <p>The custom config is merged with the default template.</p>"},{"location":"config/codegen/#full-documentation","title":"Full Documentation","text":"<p>For complete configuration options, see the oapi-codegen-dd documentation:</p> <ul> <li>Configuration Reference</li> <li>Filtering</li> <li>Overlays</li> <li>Extensions</li> </ul>"},{"location":"config/service/","title":"Service Configuration","text":"<p>Each service can have its own <code>config.yml</code> file that controls runtime behavior like latency simulation, error injection, validation, and caching.</p>"},{"location":"config/service/#location","title":"Location","text":"<p>For compiled Go services, place <code>config.yml</code> in the <code>setup/</code> directory:</p> <pre><code>services/petstore/\n\u2514\u2500\u2500 setup/\n    \u251c\u2500\u2500 config.yml      # Service configuration\n    \u251c\u2500\u2500 codegen.yml     # Code generation settings\n    \u2514\u2500\u2500 openapi.yml     # OpenAPI specification\n</code></pre> <p>For Docker with mounted specs, use a directory structure with <code>config.yml</code> alongside your spec:</p> <pre><code>openapi/\n\u2514\u2500\u2500 petstore/\n    \u251c\u2500\u2500 openapi.yml     # OpenAPI spec (must be named openapi.yml/yaml/json)\n    \u2514\u2500\u2500 config.yml      # Service config\n</code></pre> <p>Note: Flat specs like <code>openapi/petstore.yml</code> don't support config files - use the directory structure above.</p>"},{"location":"config/service/#configuration-options","title":"Configuration Options","text":""},{"location":"config/service/#service-name","title":"Service Name","text":"<pre><code>name: petstore\n</code></pre> <p>The <code>name</code> property defines the URL prefix for all routes in this service.</p> <p>For example, if your OpenAPI spec has <code>/pets</code> and <code>/pets/{id}</code>, they become: - <code>GET /petstore/pets</code> - <code>GET /petstore/pets/{id}</code></p> <p>This allows multiple APIs to coexist on the same server without route conflicts.</p> <p>How the name is determined:</p> <ol> <li>If <code>name</code> is set in <code>config.yml</code> \u2192 uses that name</li> <li>Otherwise \u2192 inferred from directory name (e.g., <code>openapi/stripe/</code> \u2192 <code>stripe</code>)</li> <li>For flat specs \u2192 inferred from filename (e.g., <code>openapi/petstore.yml</code> \u2192 <code>petstore</code>)</li> </ol>"},{"location":"config/service/#latency","title":"Latency","text":"<pre><code># Simulated latency for responses\nlatency: 100ms\n\n# Latency distribution by percentile\nlatencies:\n  p50: 50ms\n  p90: 100ms\n  p99: 500ms\n\n# Error injection by percentile\nerrors:\n  p5: 500   # 5% of requests return 500\n  p10: 400  # 5% return 400 (p10 - p5)\n\n# Caching behavior\ncache:\n  requests: true  # Cache GET request responses\n\n# OpenAPI spec simplification\nspec:\n  simplify: false\n  optional-properties:\n    number: 5     # Keep max 5 optional properties\n</code></pre>"},{"location":"config/service/#latency-simulation","title":"Latency Simulation","text":"<p>Simulate real-world network conditions:</p> <pre><code># Fixed latency\nlatency: 100ms\n\n# Or percentile-based distribution\nlatencies:\n  p25: 10ms   # 25% of requests: 10ms\n  p50: 50ms   # 25% of requests: 50ms  \n  p90: 100ms  # 40% of requests: 100ms\n  p99: 500ms  # 9% of requests: 500ms\n  p100: 1s    # 1% of requests: 1s\n</code></pre>"},{"location":"config/service/#error-injection","title":"Error Injection","text":"<p>Test error handling by injecting HTTP errors:</p> <pre><code>errors:\n  p5: 500   # 5% return 500 Internal Server Error\n  p10: 400  # 5% return 400 Bad Request\n  p15: 429  # 5% return 429 Too Many Requests\n</code></pre> <p>Percentiles are cumulative - <code>p10: 400</code> means requests between p5 and p10 (5%) return 400.</p>"},{"location":"config/service/#caching","title":"Caching","text":"<p>Cache responses for GET requests:</p> <pre><code>cache:\n  requests: true  # Enable response caching\n</code></pre> <p>Cached responses are returned for identical GET requests, improving performance.</p>"},{"location":"config/service/#spec-simplification","title":"Spec Simplification","text":"<p>Reduce complexity of large OpenAPI specs:</p> <pre><code>spec:\n  simplify: false  # Enable/disable simplification\n  optional-properties:\n    number: 5      # Keep max N optional properties per schema\n    # range: \"1-6\" # Or random range\n</code></pre> <p>This helps with specs that have schemas with many optional fields.</p>"},{"location":"config/service/#upstream-proxy","title":"Upstream Proxy","text":"<p>Forward requests to a real backend:</p> <pre><code>upstream:\n  url: https://api.example.com\n  headers:\n    X-Custom-Header: value\n  fail-on:\n    timeout: 5s           # Request timeout (default: 5s)\n    http-status:\n      - exact: 301\n      - range: \"500-599\"\n</code></pre> <p>When configured, requests are proxied to the upstream server. If the upstream fails (timeout or matching status code), Connexions falls back to generating mock responses.</p>"},{"location":"config/service/#circuit-breaker","title":"Circuit Breaker","text":"<p>Protect against cascading failures with circuit breaker:</p> <pre><code>upstream:\n  url: https://api.example.com\n  circuit-breaker:\n    timeout: 60s        # Time in open state before half-open (default: 60s)\n    max-requests: 1     # Max requests in half-open state (default: 1)\n    interval: 30s       # Interval to clear counts in closed state (default: 0)\n    min-requests: 3     # Min requests before tripping (default: 3)\n    failure-ratio: 0.6  # Failure ratio to trip (default: 0.6)\n</code></pre> <p>Circuit breaker states:</p> <ul> <li>Closed: Normal operation, requests pass through</li> <li>Open: After failure threshold, requests are blocked</li> <li>Half-Open: After timeout, limited requests test if service recovered</li> </ul> <p>When app-level storage is configured with <code>type: redis</code>, circuit breaker state is automatically shared across instances.</p>"},{"location":"config/service/#response-headers","title":"Response Headers","text":"<p>Connexions adds the following headers to responses:</p> Header Values Description <code>X-Cxs-Source</code> <code>upstream</code>, <code>cache</code>, <code>generated</code> Indicates where the response came from <code>X-Cxs-Duration</code> e.g. <code>1.234ms</code> Request processing time"},{"location":"config/service/#contexts","title":"Contexts","text":"<p>See Contexts for details on context files.</p>"},{"location":"usage/docker-compose/","title":"Docker Compose","text":""},{"location":"usage/docker-compose/#docker-compose","title":"Docker Compose","text":"<p>Mount your OpenAPI specs and static files using Docker Compose:</p> docker-compose.yml<pre><code>services:\n  connexions:\n    image: cubahno/connexions:latest\n    ports:\n      - \"2200:2200\"\n    volumes:\n      # Mount OpenAPI specs - each file becomes a service\n      - ./openapi:/app/resources/data/openapi:ro\n      # Mount static files - each directory becomes a service\n      - ./static:/app/resources/data/static:ro\n    environment:\n      - LOG_LEVEL=info\n      - LOG_FORMAT=text\n</code></pre> <pre><code>docker-compose up\n</code></pre> <p>Test your services:</p> <pre><code>curl http://localhost:2200/petstore/pets\n</code></pre> <p>See the mounted-services example for a complete working example.</p>"},{"location":"usage/docker/","title":"Docker","text":""},{"location":"usage/docker/#quick-start","title":"Quick Start","text":"<p>Mount your OpenAPI specs and get a mock server instantly:</p> <pre><code>docker run -p 2200:2200 \\\n  -v ~/my-specs:/app/resources/data/openapi \\\n  cubahno/connexions:latest\n</code></pre>"},{"location":"usage/docker/#mount-openapi-specs","title":"Mount OpenAPI Specs","text":"<p>Place your OpenAPI specs (<code>.yml</code>, <code>.yaml</code>, <code>.json</code>) in a directory and mount it:</p> <pre><code>docker run -p 2200:2200 \\\n  -v /path/to/specs:/app/resources/data/openapi \\\n  cubahno/connexions:latest\n</code></pre> <p>Each spec file becomes a service. For example, <code>petstore.yml</code> creates endpoints at <code>/petstore/...</code>.</p>"},{"location":"usage/docker/#mount-static-files","title":"Mount Static Files","text":"<p>For static response files, organize them by service name and HTTP method:</p> <pre><code>my-static/\n\u2514\u2500\u2500 myapi/\n    \u2514\u2500\u2500 users/\n        \u251c\u2500\u2500 GET.json      # GET /myapi/users\n        \u2514\u2500\u2500 {id}/\n            \u2514\u2500\u2500 GET.json  # GET /myapi/users/{id}\n</code></pre> <p>Mount the directory:</p> <pre><code>docker run -p 2200:2200 \\\n  -v /path/to/static:/app/resources/data/static \\\n  cubahno/connexions:latest\n</code></pre>"},{"location":"usage/docker/#mount-both","title":"Mount Both","text":"<p>You can mount both OpenAPI specs and static files:</p> <pre><code>docker run -p 2200:2200 \\\n  -v ~/my-specs:/app/resources/data/openapi \\\n  -v ~/my-static:/app/resources/data/static \\\n  cubahno/connexions:latest\n</code></pre>"},{"location":"usage/docker/#hot-reload","title":"Hot Reload","text":"<p>The server watches for file changes. When you modify a spec or static file:</p> <ol> <li>File watcher detects the change</li> <li>Service is regenerated</li> <li>Server restarts automatically</li> </ol> <p>No need to restart the container manually.</p>"},{"location":"usage/docker/#directory-structure","title":"Directory Structure","text":"<pre><code>/app/resources/data/\n\u251c\u2500\u2500 openapi/     # Mount OpenAPI specs here (auto-generates services)\n\u251c\u2500\u2500 static/      # Mount static files here (auto-generates services)\n\u2514\u2500\u2500 services/    # Generated Go services (managed by connexions)\n</code></pre>"},{"location":"usage/docker/#examples","title":"Examples","text":"<p>See the mounted-services example for a complete working example.</p>"},{"location":"usage/docker/#pre-generated-services","title":"Pre-generated Services","text":"<p>If you need custom middleware or want to pre-generate Go services, see the pre-generated-services example.</p>"}]}